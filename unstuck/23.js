window.habitlab_content_script = true;

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[23],{

/***/ "./src/components/habitlab-close-tab-button.deps.js":
/*!*************************************************!*\
  !*** ./src/components/habitlab-close-tab-button.deps.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// this file was generated by scripts/generate_polymer_dependencies
// do not edit this file directly
// instead, edit the corresponding .html file and re-run the script
const {import_dom_modules} = __webpack_require__(/*! libs_frontend/dom_utils */ "./src/libs_frontend/dom_utils.ls")
__webpack_require__(/*! bower_components/habitlab-paper-button/habitlab-paper-button.deps.js */ "./src/bower_components/habitlab-paper-button/habitlab-paper-button.deps.js")
import_dom_modules(__webpack_require__(/*! components/habitlab-close-tab-button.html */ "./src/components/habitlab-close-tab-button.html"), 'components/habitlab-close-tab-button.html')
__webpack_require__(/*! components/habitlab-close-tab-button */ "./src/components/habitlab-close-tab-button.ls")


/***/ }),

/***/ "./src/components/habitlab-close-tab-button.html":
/*!**********************************************!*\
  !*** ./src/components/habitlab-close-tab-button.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<link rel=import href=../bower_components/habitlab-paper-button/habitlab-paper-button.html> <habitlab-dom-module id=habitlab-close-tab-button> <template> <style>:host{display:var(--call-to-action-button-display,inline-block);height:var(--call-to-action-button-height,38px);width:var(--call-to-action-button-width);margin:var(--call-to-action-button-margin,0 0 0 0)}.close_tab_button{cursor:pointer;color:var(--call-to-action-button-color,#fff);font-size:var(--call-to-action-button-font-size,14px);background-color:var(--call-to-action-button-bg-color,#415d67);margin:0 auto;width:100%;height:100%;box-shadow:var(--call-to-action-button-shadow,2px 2px 2px #888)}</style> <habitlab-paper-button class=close_tab_button on-click=button_clicked>{{buttontext}}</habitlab-paper-button> </template> <script src=habitlab-close-tab-button.js></script> </habitlab-dom-module>";

/***/ }),

/***/ "./src/components/habitlab-close-tab-button.ls":
/*!********************************************!*\
  !*** ./src/components/habitlab-close-tab-button.ls ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var close_selected_tab, log_action, get_tab_id, close_tab_with_id, msg;
close_selected_tab = __webpack_require__(/*! libs_common/tab_utils */ "./src/generated_libs/libs_frontend/tab_utils.js").close_selected_tab;
log_action = __webpack_require__(/*! libs_frontend/intervention_log_utils */ "./src/libs_frontend/intervention_log_utils.ls").log_action;
get_tab_id = __webpack_require__(/*! libs_common/intervention_info */ "./src/libs_common/intervention_info.ls").get_tab_id;
close_tab_with_id = __webpack_require__(/*! libs_common/tab_utils */ "./src/generated_libs/libs_frontend/tab_utils.js").close_tab_with_id;
msg = __webpack_require__(/*! libs_common/localization_utils */ "./src/libs_common/localization_utils.js").msg;
Polymer({
  is: 'habitlab-close-tab-button',
  doc: 'A button that closes the current tab',
  properties: {
    buttontext: {
      type: String,
      value: msg('Close Tab')
    }
  },
  button_clicked: async function(){
    (await log_action({
      'positive': 'habitlab-close-tab-button clicked'
    }));
    return close_tab_with_id(get_tab_id());
  }
});
//# sourceMappingURL=habitlab-close-tab-button.ls.map


/***/ }),

/***/ "./src/components/time-until-tab-autoclose-view.deps.js":
/*!**************************************************************!*\
  !*** ./src/components/time-until-tab-autoclose-view.deps.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// this file was generated by scripts/generate_polymer_dependencies
// do not edit this file directly
// instead, edit the corresponding .html file and re-run the script
const {import_dom_modules} = __webpack_require__(/*! libs_frontend/dom_utils */ "./src/libs_frontend/dom_utils.ls")
__webpack_require__(/*! bower_components/polymer/polymer.deps.js */ "./src/bower_components/polymer/polymer.deps.js")
__webpack_require__(/*! bower_components/habitlab-paper-button/habitlab-paper-button.deps.js */ "./src/bower_components/habitlab-paper-button/habitlab-paper-button.deps.js")
__webpack_require__(/*! components/habitlab-logo-v2.deps.js */ "./src/components/habitlab-logo-v2.deps.js")
__webpack_require__(/*! components/habitlab-close-tab-button.deps.js */ "./src/components/habitlab-close-tab-button.deps.js")
import_dom_modules(__webpack_require__(/*! components/time-until-tab-autoclose-view.html */ "./src/components/time-until-tab-autoclose-view.html"), 'components/time-until-tab-autoclose-view.html')
__webpack_require__(/*! components/time-until-tab-autoclose-view */ "./src/components/time-until-tab-autoclose-view.js")


/***/ }),

/***/ "./src/components/time-until-tab-autoclose-view.html":
/*!***********************************************************!*\
  !*** ./src/components/time-until-tab-autoclose-view.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/habitlab-paper-button/habitlab-paper-button.html> <link rel=import href=habitlab-logo-v2.html> <link rel=import href=habitlab-close-tab-button.html> <habitlab-dom-module id=time-until-tab-autoclose-view> <template> <style>:host{display:inline-block;text-align:center;width:215px;height:330px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,\"Helvetica Neue Light\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;position:fixed;bottom:0;left:0;z-index:99999;padding:0;font-size:14px}.timer-text{padding-top:20px}#displayText{background-color:#95cbee;fill-opacity:.5;position:static;color:#fff;width:100%;height:100%}#logo{margin-top:10px;margin-bottom:20px}#close_button{margin-top:15px;margin-bottom:5px;width:100px;box-shadow:2px 2px 2px #888}#more-time-button{margin-top:25px;margin-left:10px;width:80px;box-shadow:2px 2px 2px #888;float:left;text-align:center;line-height:25px}</style> <div id=displayText> <habitlab-close-tab-button id=close_button></habitlab-close-tab-button> <div class=timer-text style=color:#415d67>Time remaining:</div> <div style=color:#fff;margin-top:5px> <div style=display:inline-block;margin-right:10px> <div style=font-size:40px>{{minutes}}</div> <div>min</div> </div> <div style=display:inline-block;margin-left:10px> <div style=font-size:40px>{{seconds}}</div> <div>sec</div> </div> </div> <habitlab-paper-button id=more-time-button style=background-color:#415d67;display:inline-block on-click=more_time_button_clicked>ADD TIME</habitlab-paper-button> <div class=timer-text style=color:#415d67;display:inline-block>Time added:</div> <div style=color:#fff;margin-top:5px> <div style=display:inline-block> <div style=font-size:40px>{{numClicked}}</div> <div>min</div> </div> </div> <br> <div style=width:100%;display:block;text-align:center> <habitlab-logo-v2 id=logo></habitlab-logo-v2> </div> </div> </template> <script src=time-until-tab-autoclose-view.js></script> </habitlab-dom-module> ";

/***/ }),

/***/ "./src/components/time-until-tab-autoclose-view.js":
/*!*********************************************************!*\
  !*** ./src/components/time-until-tab-autoclose-view.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

const $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");

const {
  polymer_ext
} = __webpack_require__(/*! libs_frontend/polymer_utils */ "./src/libs_frontend/polymer_utils.ls");

const {
  url_to_domain,
} = __webpack_require__(/*! libs_common/domain_utils */ "./src/libs_common/domain_utils.ls");

const {
  close_selected_tab
} = __webpack_require__(/*! libs_common/tab_utils */ "./src/generated_libs/libs_frontend/tab_utils.js")

polymer_ext({
  is: 'time-until-tab-autoclose-view',
  properties: {
    minutes: {
      type: Number,
      computed: 'compute_minutes(secondsRemaining)'
    },
    seconds: {
      type: Number,
      computed: 'compute_seconds(secondsRemaining)'
    },
    site: {
      type: String,
      value: url_to_domain(window.location.href)
    },
    displayText: {
      type: String,
      computed: 'compute_displayText(minutes, seconds)'
    },
    numClicked: {
        type: Number,
        value: 0
    },
    secondsRemaining: {
      type: Number,
      value: 60
    },
  },
  more_time_button_clicked: function() {
    var self = this;
    if (!self.numClicked) self.numClicked = 0;
    self.numClicked++;
    self.secondsRemaining += 60;
  },
  compute_displayText: function(minutes, seconds) {
    return minutes + " minutes and " + seconds;
  },
  compute_minutes: function(secondsRemaining) {
    return Math.floor(secondsRemaining/60);
  },
  compute_seconds: function(secondsRemaining) {
    return secondsRemaining % 60;
  },
  detached: function() {
    clearInterval(this.close_tab_timer);
  },
  attached: function() {
    var self = this;
    this.close_tab_timer = setInterval(function() {
      if (self.secondsRemaining <= 0) {
        //self.fire('time_has_run_out', {});
        self.$.close_button.button_clicked();
      } else {
        self.secondsRemaining -= 1;
      }
    }, 1000); 
  }
    
});


/***/ }),

/***/ "./src/libs_common/domain_utils.ls":
/*!*****************************************!*\
  !*** ./src/libs_common/domain_utils.ls ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var ref$, gexport, gexport_module, url_to_domain, domain_to_url, out$ =  true && exports || this;
ref$ = __webpack_require__(/*! libs_common/gexport */ "./src/libs_common/gexport.ls"), gexport = ref$.gexport, gexport_module = ref$.gexport_module;
out$.url_to_domain = url_to_domain = function(url){
  var domain;
  if (url.indexOf("://") > -1) {
    domain = url.split('/')[2];
  } else {
    domain = url.split('/')[0];
  }
  return domain;
};
out$.domain_to_url = domain_to_url = function(domain){
  return "http://" + url_to_domain(domain) + '/';
};
gexport_module('domain_utils', function(it){
  return eval(it);
});
//# sourceMappingURL=domain_utils.ls.map


/***/ })

}]);