window.habitlab_content_script = true;

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[34],{

/***/ "./src/components/habitlab-interstitial-screen.deps.js":
/*!****************************************************!*\
  !*** ./src/components/habitlab-interstitial-screen.deps.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// this file was generated by scripts/generate_polymer_dependencies
// do not edit this file directly
// instead, edit the corresponding .html file and re-run the script
const {import_dom_modules} = __webpack_require__(/*! libs_frontend/dom_utils */ "./src/libs_frontend/dom_utils.ls")
__webpack_require__(/*! bower_components/polymer/polymer.deps.js */ "./src/bower_components/polymer/polymer.deps.js")
__webpack_require__(/*! bower_components/habitlab-paper-button/habitlab-paper-button.deps.js */ "./src/bower_components/habitlab-paper-button/habitlab-paper-button.deps.js")
__webpack_require__(/*! bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.deps.js */ "./src/bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.deps.js")
__webpack_require__(/*! bower_components/habitlab-paper-progress/habitlab-paper-progress.deps.js */ "./src/bower_components/habitlab-paper-progress/habitlab-paper-progress.deps.js")
__webpack_require__(/*! components/habitlab-logo-v2.deps.js */ "./src/components/habitlab-logo-v2.deps.js")
__webpack_require__(/*! components/call-to-action-button.deps.js */ "./src/components/call-to-action-button.deps.js")
import_dom_modules(__webpack_require__(/*! components/habitlab-interstitial-screen.html */ "./src/components/habitlab-interstitial-screen.html"), 'components/habitlab-interstitial-screen.html')
__webpack_require__(/*! components/habitlab-interstitial-screen */ "./src/components/habitlab-interstitial-screen.js")


/***/ }),

/***/ "./src/components/habitlab-interstitial-screen.html":
/*!*************************************************!*\
  !*** ./src/components/habitlab-interstitial-screen.html ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/habitlab-paper-button/habitlab-paper-button.html> <link rel=import href=../bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.html> <link rel=import href=../bower_components/habitlab-paper-progress/habitlab-paper-progress.html> <link rel=import href=habitlab-logo-v2.html> <link rel=import href=call-to-action-button.html> <habitlab-dom-module id=habitlab-interstitial-screen> <template> <style>:host{position:fixed;display:block;top:0;left:0;width:100%;height:100%;background-color:#f2fcff;opacity:1;z-index:350000000000;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,\"Helvetica Neue Light\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif}.contentContainer{margin-top:20px}.titleText{font-size:1.5em;text-align:center}#messagetext{font-size:1.3em;text-align:center}.whiteDiv{position:fixed;display:flex;flex-direction:column;justify-content:center;top:0;left:0;width:100%;height:100%;background-color:#f2fcff;opacity:1;z-index:35000000}.okButton{cursor:pointer;padding:5px;background-color:#415d67;color:#fff;font-size:14px;height:38px;box-shadow:2px 2px 2px #888}.closeTabButton{cursor:pointer;padding:5px;margin-bottom:10px;font-size:14px;height:38px}#logo{margin:10px}.message-block{padding-top:40px;align-self:center}#paperprogress{display:none;margin-bottom:10px}</style> <div class=whiteDiv> <div class=contentContainer> <div id=titletext class=titleText></div> <div id=messagetext></div> <p> </p><p> <center> <habitlab-paper-progress id=paperprogress></habitlab-paper-progress> </center> <center> <habitlab-logo-v2 id=logo></habitlab-logo-v2> </center> <center> <call-to-action-button id=closetabbutton class=closeTabButton></call-to-action-button> </center> <center> <habitlab-paper-button id=okbutton class=okButton on-click=buttonclicked>default</habitlab-paper-button> </center> </p> <p></p> </div> </div> </template> <script src=habitlab-interstitial-screen.js></script> </habitlab-dom-module>";

/***/ }),

/***/ "./src/components/habitlab-interstitial-screen.js":
/*!***********************************************!*\
  !*** ./src/components/habitlab-interstitial-screen.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

const $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")

const {polymer_ext} = __webpack_require__(/*! libs_frontend/polymer_utils */ "./src/libs_frontend/polymer_utils.ls")
const {close_selected_tab} = __webpack_require__(/*! libs_frontend/tab_utils */ "./src/generated_libs/libs_frontend/tab_utils.js")

const {
  log_action,
} = __webpack_require__(/*! libs_frontend/intervention_log_utils */ "./src/libs_frontend/intervention_log_utils.ls")

Polymer({
  is: 'habitlab-interstitial-screen',
  doc: 'A screen that either shows work sites visited today or suggested links to New York Times articles.',
  properties: {
    btnTxt: {
      type: String, 
    },
    btnTxt2: {
      type: String, 
    },    
    minutes: {
      type: Number
    },
    titleText: {
      type: String, 
    },
    visits: {
      type: Number
    },
    intervention: {
      type: String
    },
    messageText: {
      type: String
    },
    randomizer: {
      type: Boolean,
      value: Math.floor(Math.random()*2) == 0,
    },
    show_rss_message: {
      type: Boolean,
      computed: 'compute_show_rss_message(show_progress_message, randomizer)',
    },
    show_workpages_message: {
      type: Boolean,
      computed: 'compute_show_workpages_message(show_progress_message, randomizer)',
    },
    show_progress_message: {
      type: Boolean,
      value: false,
      //computed: 'compute_progress_message()',
    }
  },

  listeners: {
    'disable_intervention': 'disableIntervention',
    'show_button': 'showButton'
  },
  compute_show_rss_message: function(show_progress_message, randomizer) {
    return (!show_progress_message) && randomizer
  },
  compute_show_workpages_message: function(show_progress_message, randomizer) {
    return !show_progress_message && !randomizer
  },
  //compute_show_progress_message: function() {
  //  return false
  //},
  buttonclicked: function() {
    log_action({'negative': 'Continuted to site.'})
    $(this).hide()
  },
  hideButton: function() {
    //$(this.$.okbutton).fadeOut("slow")
    this.$.okbutton.hidden = true
    //this.$.closetabbutton.hidden = true
    this.$.okbutton.style.display = 'none';
    //this.$.closetabbutton.style.display = 'none';
  },
  showProgress: function() {
    this.$.paperprogress.style.display = 'block';
  },
  incrementProgress: function() {
    this.$.paperprogress.value += 1;
  },
  setProgress: function(val) {
    this.$.paperprogress.value = val;
  },
  showButton: function() {
    console.log(this.$.okbutton)
    $(this.$.okbutton).fadeIn("slow")
    this.$.okbutton.hidden = false
    // this.$.closetabbutton.hidden = false
    this.$.okbutton.style.display = 'inline-flex';
    // this.$.closetabbutton.style.display = 'inline-flex';
  },
  ready: function() {
    this.$.okbutton.textContent = this.btnTxt
    this.$.closetabbutton.text = this.btnTxt2
    this.$.titletext.textContent = this.titleText
    this.$.messagetext.textContent = this.messageText
    console.log(this.$.titletext.textContent)
    this.addEventListener('show_button', function() {
      console.log('hi')
    })
    
    //this.$.titletext.hidden = true
    // this.$.closetabbutton.hidden = true
    // var self = this
    // $(this.$.titletext).fadeIn().promise().then(function() {
    //   console.log('faded in title-text!')
    //   $(self.$.closetabbutton).fadeIn(5000, function() {
    //     console.log('faded in close-tab')
    //   })
    // })

    // this.$.paperprogress.hidden = true
    // this.$.paperprogress.style.display = 'none';
  },
  disableIntervention: function() {
    $(this).hide()
  },
  
  attributeChanged: function() {
    this.$.okbutton.textContent = this.btnTxt 
    this.$.closetabbutton.text = this.btnTxt2
    this.$.messagetext.textContent = this.messageText
    this.$.titletext.textContent = this.titleText
  }
});



/***/ })

}]);